/**
 * Made with ❤️ by Mighty — Maestro LLC
 * Copyright © 2026 Maestro, LLC
 */
var s="mighty-interactive-message-from-host-event",n="mighty-interactive-message-to-host-event";var E=class{constructor(){this.version="0.0.1";this.messageHandlers=new Map,this.listenForInteractiveMessages()}sendMessageToInteractive(e){window.dispatchEvent(new CustomEvent(s,{detail:{blockId:e.blockId,messageType:e.messageType,payload:e.payload}}))}onMessageFromInteractive(e){let{messageType:t,callback:T}=e;return this.messageHandlers.has(t)||this.messageHandlers.set(t,new Set),this.messageHandlers.get(t)?.add(T),()=>{this.messageHandlers.get(t)?.delete(T)}}listenForInteractiveMessages(){window.addEventListener(n,e=>{let{blockId:t,messageType:T,payload:r,requestId:_}=e.detail,a=this.messageHandlers.get(T);if(a){let o=I=>{_&&window.dispatchEvent(new CustomEvent(s,{detail:{blockId:t,messageType:T,requestId:_,payload:I}}))};a.forEach(I=>{I(t,r,o)})}})}};var i=new E;window.mightyCustomCodeSdk=i;
